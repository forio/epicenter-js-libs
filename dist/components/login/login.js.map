{"version":3,"sources":["webpack:///login.js","webpack:///webpack/bootstrap a175c3ff9bb97b1bb671","webpack:///./src/components/login/login.js"],"names":["modules","__webpack_require__","moduleId","installedModules","exports","module","i","l","call","m","c","d","name","getter","o","Object","defineProperty","configurable","enumerable","get","n","__esModule","object","property","prototype","hasOwnProperty","p","s","$","groupSelectionTemplate","showError","msg","text","show","getAccountProjectFromUrl","url","window","location","href","parts","match","account","project","selectGroup","userName","password","groups","action","dlg","length","appendTo","attr","select","find","remove","each","this","groupKey","on","e","val","target","removeClass","removeAttr","addClass","closeDlg","hide","off","preventDefault","stopPropagation","form","fromUrl","prop","groupId","mfaCode","console","log","auth","F","v3","manager","AuthManager","loginParams","handle","login","then","session","getCurrentUserSessionInfo","groupName","newPage","facPage","isFac","isTeamMember","error","type","context","possibleGroups","hasClass"],"mappings":"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","file":"login.js","sourcesContent":["/******/ (function(modules) { // webpackBootstrap\n/******/ \t// The module cache\n/******/ \tvar installedModules = {};\n/******/\n/******/ \t// The require function\n/******/ \tfunction __webpack_require__(moduleId) {\n/******/\n/******/ \t\t// Check if module is in cache\n/******/ \t\tif(installedModules[moduleId]) {\n/******/ \t\t\treturn installedModules[moduleId].exports;\n/******/ \t\t}\n/******/ \t\t// Create a new module (and put it into the cache)\n/******/ \t\tvar module = installedModules[moduleId] = {\n/******/ \t\t\ti: moduleId,\n/******/ \t\t\tl: false,\n/******/ \t\t\texports: {}\n/******/ \t\t};\n/******/\n/******/ \t\t// Execute the module function\n/******/ \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n/******/\n/******/ \t\t// Flag the module as loaded\n/******/ \t\tmodule.l = true;\n/******/\n/******/ \t\t// Return the exports of the module\n/******/ \t\treturn module.exports;\n/******/ \t}\n/******/\n/******/\n/******/ \t// expose the modules object (__webpack_modules__)\n/******/ \t__webpack_require__.m = modules;\n/******/\n/******/ \t// expose the module cache\n/******/ \t__webpack_require__.c = installedModules;\n/******/\n/******/ \t// define getter function for harmony exports\n/******/ \t__webpack_require__.d = function(exports, name, getter) {\n/******/ \t\tif(!__webpack_require__.o(exports, name)) {\n/******/ \t\t\tObject.defineProperty(exports, name, {\n/******/ \t\t\t\tconfigurable: false,\n/******/ \t\t\t\tenumerable: true,\n/******/ \t\t\t\tget: getter\n/******/ \t\t\t});\n/******/ \t\t}\n/******/ \t};\n/******/\n/******/ \t// getDefaultExport function for compatibility with non-harmony modules\n/******/ \t__webpack_require__.n = function(module) {\n/******/ \t\tvar getter = module && module.__esModule ?\n/******/ \t\t\tfunction getDefault() { return module['default']; } :\n/******/ \t\t\tfunction getModuleExports() { return module; };\n/******/ \t\t__webpack_require__.d(getter, 'a', getter);\n/******/ \t\treturn getter;\n/******/ \t};\n/******/\n/******/ \t// Object.prototype.hasOwnProperty.call\n/******/ \t__webpack_require__.o = function(object, property) { return Object.prototype.hasOwnProperty.call(object, property); };\n/******/\n/******/ \t// __webpack_public_path__\n/******/ \t__webpack_require__.p = \"\";\n/******/\n/******/ \t// Load entry module and return exports\n/******/ \treturn __webpack_require__(__webpack_require__.s = 0);\n/******/ })\n/************************************************************************/\n/******/ ([\n/* 0 */\n/***/ (function(module, exports) {\n\n$(function () {\r\n    'use strict';\r\n\r\n    var groupSelectionTemplate;\r\n\r\n    var showError = function (msg) {\r\n        $('#login-message').text(msg).show();\r\n    };\r\n\r\n    var getAccountProjectFromUrl = function () {\r\n        var url = window.location.href;\r\n        var parts = url.match(/https?:\\/\\/([^/]*)\\/app\\/([^/]*)\\/([^/]*)/) || [];\r\n        return {\r\n            account: parts[2],\r\n            project: parts[3], //eslint-disable-line\r\n        };\r\n    };\r\n\r\n    var selectGroup = function (userName, password, account, project, groups, action) {\r\n        var dlg = (dlg = $('.group-selection-dialog')).length ? dlg : $(groupSelectionTemplate).appendTo($('body')); //eslint-disable-line\r\n        dlg.attr('action', action);\r\n        var select = $('#login-group', dlg);\r\n        select.find('[value!=\"\"]').remove();\r\n        $.each(groups, function () {\r\n            $('<option>')\r\n                .attr('value', this.groupKey)\r\n                .text(this.name)\r\n                .appendTo(select);\r\n        });\r\n\r\n        select.on('change', function (e) {\r\n            var val = $(e.target).val();\r\n            $('#groupId').val(val);\r\n\r\n            if (val) {\r\n                $('#btn-login', dlg).removeClass('disabled').removeAttr('disabled');\r\n            } else {\r\n                $('#btn-login', dlg).addClass('disabled').attr('disabled', 'disabled');\r\n            }\r\n        });\r\n\r\n        var closeDlg = function () {\r\n            $('.group-selection-dialog').hide();\r\n        };\r\n\r\n        $('.close', dlg).off('click', null).on('click', closeDlg);\r\n\r\n        $('.group-selection-dialog').show();\r\n    };\r\n\r\n    $('body').on('submit', '#login, form:has(#btn-login)', function (e) {\r\n        e.preventDefault();\r\n        e.stopPropagation();\r\n        var form = $(e.target);\r\n        var fromUrl = getAccountProjectFromUrl();\r\n        var action = form.prop('action') || 'index.html';\r\n        var userName = $('#username').val();\r\n        var password = $('#password').val();\r\n\r\n        var account = $('#account:not([data-local])').val() || fromUrl.account || $('#account').val();\r\n        var project = $('#project:not([data-local])').val() || fromUrl.project || $('#project').val();\r\n        var groupId = ($('#groupId').length ? $('#groupId') : $('<input type=\"hidden\" id=\"groupId\">').appendTo(form)).val();\r\n\r\n        var mfaCode = $('#mfaCode').val();\r\n\r\n        $('button', form).attr('disabled', 'disabled').addClass('disabled');\r\n        $('#login-message').text('').hide();\r\n        $('.mfa input').on('change', function () {\r\n            $('.mfa').removeClass('has-error');\r\n        });\r\n\r\n        if (!account) {\r\n            console.log('No account was specified and it cannot be extracted from the URL. You may not be able to login.');\r\n        }\r\n\r\n        if (!project) {\r\n            console.log('No project was specified and it cannot be extracted from the URL.');\r\n        }\r\n\r\n        var auth = new F.v3.manager.AuthManager({\r\n            account: account,\r\n            project: project\r\n        });\r\n        const loginParams = {\r\n            handle: userName,\r\n            password: password,\r\n        };\r\n        if (groupId) loginParams.groupKey = groupId;\r\n        if (mfaCode) loginParams.mfaCode = mfaCode;\r\n        auth.login(loginParams).then(function () {\r\n            var session = auth.getCurrentUserSessionInfo();\r\n            if ($('#log-login').length) {\r\n                var url = $('#log-login').val();\r\n                $.get(url + '?userName=' + session.userName + '&groupName=' + session.groupName);\r\n            }\r\n            var newPage = action;\r\n            var facPage = $('#fac-redirect-page').val();\r\n            if ((session.isFac || session.isTeamMember) && facPage) {\r\n                newPage = facPage;\r\n            }\r\n            window.location = newPage;\r\n            $('.group-selection-dialog').hide();\r\n        }, function (error) {\r\n            if (error.type === 'MULTIPLE_GROUPS') {\r\n                selectGroup(userName, password, account, project, error.context.possibleGroups, action);\r\n            } else if (error.type === 'NO_GROUPS') {\r\n                showError('User is not a member of a simulation group.');\r\n                $('.mfa').addClass('hidden');\r\n                $('#mfaCode').val('');\r\n                $('#username').prop('disabled', false);\r\n                $('#password').prop('disabled', false);\r\n            } else if (error.type === 'AUTHORIZATION_FAILURE') {\r\n                showError('Could not login, please check username/ password and try again.');\r\n                $('.mfa').addClass('hidden');\r\n                $('#mfaCode').val('');\r\n                $('#username').prop('disabled', false);\r\n                $('#password').prop('disabled', false);\r\n            } else if (error.type === 'PASSWORD_EXPIRATION') {\r\n                showError('Your password has expired.  Please contact your administrator and request a password reset.');\r\n                $('.mfa').addClass('hidden');\r\n                $('#mfaCode').val('');\r\n                $('#username').prop('disabled', false);\r\n                $('#password').prop('disabled', false);\r\n            } else if (error.type === 'MULTI_FACTOR_AUTHENTICATION_FAILURE') {\r\n                showError('Could not login, please check username, password and/or authentication code and try again.');\r\n                $('.mfa').addClass('hidden');\r\n                $('#mfaCode').val('');\r\n                $('#username').prop('disabled', false);\r\n                $('#password').prop('disabled', false);\r\n            } else if (error.type === 'MULTI_FACTOR_AUTHENTICATION_REQUIRED') {\r\n                showError('Could not login, this project requires a user set up with multi factor authentication.');\r\n                $('.mfa').addClass('hidden');\r\n                $('#mfaCode').val('');\r\n                $('#username').prop('disabled', false);\r\n                $('#password').prop('disabled', false);\r\n            } else if (error.type === 'MULTI_FACTOR_AUTHENTICATION_MISSING') {\r\n                if ($('.mfa').hasClass('hidden')) {\r\n                    $('.mfa').removeClass('hidden');\r\n                }\r\n                $('#username').prop('disabled', true);\r\n                $('#password').prop('disabled', true);\r\n            } else {\r\n                showError('Unknown error occured. Please try again. (' + error.type + ')');\r\n                $('.mfa').addClass('hidden');\r\n                $('#mfaCode').val('');\r\n                $('#username').prop('disabled', false);\r\n                $('#password').prop('disabled', false);\r\n            }\r\n\r\n            $('button', form).attr('disabled', null).removeClass('disabled');\r\n        });\r\n    });\r\n\r\n    groupSelectionTemplate = window.groupSelectionTemplate = '<form>\\\r\n        <div class=\"group-selection-dialog\" style=\"display: none\"> \\\r\n            <div class=\"panel panel-default form-inline\"> \\\r\n                <div class=\"panel-heading\"><span class=\"panel-title\">Please select a group</span><span class=\"close pull-right\"></span></div> \\\r\n                <div class=\"panel-body\"> \\\r\n                    <label for=\"login-group\">Group:</label> \\\r\n                    <select name=\"login-group\" id=\"login-group\" class=\"form-control\"> \\\r\n                        <option default value=\"\">Please select a group</option> \\\r\n                    </select> \\\r\n                </div> \\\r\n                <div class=\"panel-footer clearfix\"> \\\r\n                    <button id=\"btn-login\" disabled class=\"pull-right btn btn-primary disabled\">Select Group</button> \\\r\n                </div> \\\r\n            </div> \\\r\n        </div> \\\r\n    </form> \\\r\n    ';\r\n});\r\n\n\n/***/ })\n/******/ ]);\n\n\n// WEBPACK FOOTER //\n// login.js"," \t// The module cache\n \tvar installedModules = {};\n\n \t// The require function\n \tfunction __webpack_require__(moduleId) {\n\n \t\t// Check if module is in cache\n \t\tif(installedModules[moduleId]) {\n \t\t\treturn installedModules[moduleId].exports;\n \t\t}\n \t\t// Create a new module (and put it into the cache)\n \t\tvar module = installedModules[moduleId] = {\n \t\t\ti: moduleId,\n \t\t\tl: false,\n \t\t\texports: {}\n \t\t};\n\n \t\t// Execute the module function\n \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n \t\t// Flag the module as loaded\n \t\tmodule.l = true;\n\n \t\t// Return the exports of the module\n \t\treturn module.exports;\n \t}\n\n\n \t// expose the modules object (__webpack_modules__)\n \t__webpack_require__.m = modules;\n\n \t// expose the module cache\n \t__webpack_require__.c = installedModules;\n\n \t// define getter function for harmony exports\n \t__webpack_require__.d = function(exports, name, getter) {\n \t\tif(!__webpack_require__.o(exports, name)) {\n \t\t\tObject.defineProperty(exports, name, {\n \t\t\t\tconfigurable: false,\n \t\t\t\tenumerable: true,\n \t\t\t\tget: getter\n \t\t\t});\n \t\t}\n \t};\n\n \t// getDefaultExport function for compatibility with non-harmony modules\n \t__webpack_require__.n = function(module) {\n \t\tvar getter = module && module.__esModule ?\n \t\t\tfunction getDefault() { return module['default']; } :\n \t\t\tfunction getModuleExports() { return module; };\n \t\t__webpack_require__.d(getter, 'a', getter);\n \t\treturn getter;\n \t};\n\n \t// Object.prototype.hasOwnProperty.call\n \t__webpack_require__.o = function(object, property) { return Object.prototype.hasOwnProperty.call(object, property); };\n\n \t// __webpack_public_path__\n \t__webpack_require__.p = \"\";\n\n \t// Load entry module and return exports\n \treturn __webpack_require__(__webpack_require__.s = 0);\n\n\n\n// WEBPACK FOOTER //\n// webpack/bootstrap a175c3ff9bb97b1bb671","$(function () {\r\n    'use strict';\r\n\r\n    var groupSelectionTemplate;\r\n\r\n    var showError = function (msg) {\r\n        $('#login-message').text(msg).show();\r\n    };\r\n\r\n    var getAccountProjectFromUrl = function () {\r\n        var url = window.location.href;\r\n        var parts = url.match(/https?:\\/\\/([^/]*)\\/app\\/([^/]*)\\/([^/]*)/) || [];\r\n        return {\r\n            account: parts[2],\r\n            project: parts[3], //eslint-disable-line\r\n        };\r\n    };\r\n\r\n    var selectGroup = function (userName, password, account, project, groups, action) {\r\n        var dlg = (dlg = $('.group-selection-dialog')).length ? dlg : $(groupSelectionTemplate).appendTo($('body')); //eslint-disable-line\r\n        dlg.attr('action', action);\r\n        var select = $('#login-group', dlg);\r\n        select.find('[value!=\"\"]').remove();\r\n        $.each(groups, function () {\r\n            $('<option>')\r\n                .attr('value', this.groupKey)\r\n                .text(this.name)\r\n                .appendTo(select);\r\n        });\r\n\r\n        select.on('change', function (e) {\r\n            var val = $(e.target).val();\r\n            $('#groupId').val(val);\r\n\r\n            if (val) {\r\n                $('#btn-login', dlg).removeClass('disabled').removeAttr('disabled');\r\n            } else {\r\n                $('#btn-login', dlg).addClass('disabled').attr('disabled', 'disabled');\r\n            }\r\n        });\r\n\r\n        var closeDlg = function () {\r\n            $('.group-selection-dialog').hide();\r\n        };\r\n\r\n        $('.close', dlg).off('click', null).on('click', closeDlg);\r\n\r\n        $('.group-selection-dialog').show();\r\n    };\r\n\r\n    $('body').on('submit', '#login, form:has(#btn-login)', function (e) {\r\n        e.preventDefault();\r\n        e.stopPropagation();\r\n        var form = $(e.target);\r\n        var fromUrl = getAccountProjectFromUrl();\r\n        var action = form.prop('action') || 'index.html';\r\n        var userName = $('#username').val();\r\n        var password = $('#password').val();\r\n\r\n        var account = $('#account:not([data-local])').val() || fromUrl.account || $('#account').val();\r\n        var project = $('#project:not([data-local])').val() || fromUrl.project || $('#project').val();\r\n        var groupId = ($('#groupId').length ? $('#groupId') : $('<input type=\"hidden\" id=\"groupId\">').appendTo(form)).val();\r\n\r\n        var mfaCode = $('#mfaCode').val();\r\n\r\n        $('button', form).attr('disabled', 'disabled').addClass('disabled');\r\n        $('#login-message').text('').hide();\r\n        $('.mfa input').on('change', function () {\r\n            $('.mfa').removeClass('has-error');\r\n        });\r\n\r\n        if (!account) {\r\n            console.log('No account was specified and it cannot be extracted from the URL. You may not be able to login.');\r\n        }\r\n\r\n        if (!project) {\r\n            console.log('No project was specified and it cannot be extracted from the URL.');\r\n        }\r\n\r\n        var auth = new F.v3.manager.AuthManager({\r\n            account: account,\r\n            project: project\r\n        });\r\n        const loginParams = {\r\n            handle: userName,\r\n            password: password,\r\n        };\r\n        if (groupId) loginParams.groupKey = groupId;\r\n        if (mfaCode) loginParams.mfaCode = mfaCode;\r\n        auth.login(loginParams).then(function () {\r\n            var session = auth.getCurrentUserSessionInfo();\r\n            if ($('#log-login').length) {\r\n                var url = $('#log-login').val();\r\n                $.get(url + '?userName=' + session.userName + '&groupName=' + session.groupName);\r\n            }\r\n            var newPage = action;\r\n            var facPage = $('#fac-redirect-page').val();\r\n            if ((session.isFac || session.isTeamMember) && facPage) {\r\n                newPage = facPage;\r\n            }\r\n            window.location = newPage;\r\n            $('.group-selection-dialog').hide();\r\n        }, function (error) {\r\n            if (error.type === 'MULTIPLE_GROUPS') {\r\n                selectGroup(userName, password, account, project, error.context.possibleGroups, action);\r\n            } else if (error.type === 'NO_GROUPS') {\r\n                showError('User is not a member of a simulation group.');\r\n                $('.mfa').addClass('hidden');\r\n                $('#mfaCode').val('');\r\n                $('#username').prop('disabled', false);\r\n                $('#password').prop('disabled', false);\r\n            } else if (error.type === 'AUTHORIZATION_FAILURE') {\r\n                showError('Could not login, please check username/ password and try again.');\r\n                $('.mfa').addClass('hidden');\r\n                $('#mfaCode').val('');\r\n                $('#username').prop('disabled', false);\r\n                $('#password').prop('disabled', false);\r\n            } else if (error.type === 'PASSWORD_EXPIRATION') {\r\n                showError('Your password has expired.  Please contact your administrator and request a password reset.');\r\n                $('.mfa').addClass('hidden');\r\n                $('#mfaCode').val('');\r\n                $('#username').prop('disabled', false);\r\n                $('#password').prop('disabled', false);\r\n            } else if (error.type === 'MULTI_FACTOR_AUTHENTICATION_FAILURE') {\r\n                showError('Could not login, please check username, password and/or authentication code and try again.');\r\n                $('.mfa').addClass('hidden');\r\n                $('#mfaCode').val('');\r\n                $('#username').prop('disabled', false);\r\n                $('#password').prop('disabled', false);\r\n            } else if (error.type === 'MULTI_FACTOR_AUTHENTICATION_REQUIRED') {\r\n                showError('Could not login, this project requires a user set up with multi factor authentication.');\r\n                $('.mfa').addClass('hidden');\r\n                $('#mfaCode').val('');\r\n                $('#username').prop('disabled', false);\r\n                $('#password').prop('disabled', false);\r\n            } else if (error.type === 'MULTI_FACTOR_AUTHENTICATION_MISSING') {\r\n                if ($('.mfa').hasClass('hidden')) {\r\n                    $('.mfa').removeClass('hidden');\r\n                }\r\n                $('#username').prop('disabled', true);\r\n                $('#password').prop('disabled', true);\r\n            } else {\r\n                showError('Unknown error occured. Please try again. (' + error.type + ')');\r\n                $('.mfa').addClass('hidden');\r\n                $('#mfaCode').val('');\r\n                $('#username').prop('disabled', false);\r\n                $('#password').prop('disabled', false);\r\n            }\r\n\r\n            $('button', form).attr('disabled', null).removeClass('disabled');\r\n        });\r\n    });\r\n\r\n    groupSelectionTemplate = window.groupSelectionTemplate = '<form>\\\r\n        <div class=\"group-selection-dialog\" style=\"display: none\"> \\\r\n            <div class=\"panel panel-default form-inline\"> \\\r\n                <div class=\"panel-heading\"><span class=\"panel-title\">Please select a group</span><span class=\"close pull-right\"></span></div> \\\r\n                <div class=\"panel-body\"> \\\r\n                    <label for=\"login-group\">Group:</label> \\\r\n                    <select name=\"login-group\" id=\"login-group\" class=\"form-control\"> \\\r\n                        <option default value=\"\">Please select a group</option> \\\r\n                    </select> \\\r\n                </div> \\\r\n                <div class=\"panel-footer clearfix\"> \\\r\n                    <button id=\"btn-login\" disabled class=\"pull-right btn btn-primary disabled\">Select Group</button> \\\r\n                </div> \\\r\n            </div> \\\r\n        </div> \\\r\n    </form> \\\r\n    ';\r\n});\r\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/components/login/login.js\n// module id = 0\n// module chunks = 0"],"sourceRoot":""}